{"version":3,"sources":["Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/Button/Button.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Notify/Notify.module.css","App.module.css","Services/apiService.js","Components/Searchbar/Searchbar.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/ImageGallery/ImageGallery.js","Components/Notify/Notify.js","Components/Modal/Modal.js","Components/Button/Button.js","App.js","index.js","Components/Searchbar/Searchbar.module.css","Components/Modal/Modal.module.css"],"names":["module","exports","fetchImage","searchQuery","page","a","axios","get","response","data","Searchbar","state","changeInput","evt","setState","target","value","handleSubmit","preventDefault","props","onSubmit","this","className","s","SearchForm","type","button","label","input","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","image","src","webformatURL","alt","tags","data-imageurl","largeImageURL","ImageGallery","images","toggleModal","onClick","currentTarget","status","dataset","imageurl","map","id","Notify","message","Modal","checkEvent","key","window","addEventListener","removeEventListener","Overlay","img","Button","buttonBox","App","totalHits","isLoading","error","emptyNotify","showPopup","showButton","targetImage","onButtonMoreClick","prevState","checkButtonAndNotify","length","searchImages","prevProps","then","hits","scrollTo","top","document","documentElement","scrollHeight","behavior","catch","finally","color","height","width","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.0baf9a48.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__YQjot\",\"image\":\"ImageGalleryItem_image__2CLQB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"buttonBox\":\"Button_buttonBox__-JN5p\",\"Button\":\"Button_Button__V-q7j\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__vxn6C\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Notify\":\"Notify_Notify__3BHH-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__1mPEy\"};","import axios from 'axios';\r\n\r\nconst KEY = \"18895827-cf969cabaa6d7255b0d8616bb\";\r\n\r\nconst fetchImage = async (searchQuery, page) => {\r\n\tconst response = await axios\r\n\t\t.get(`https://pixabay.com/api/?q=${searchQuery}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`);\r\n\treturn response.data;\r\n};\r\n\r\nexport default fetchImage;","import React, { Component } from 'react';\r\nimport s from './Searchbar.module.css';\r\n\r\nclass Searchbar extends Component {\r\n\tstate = {\r\n\t\tsearchQuery: \"\"\r\n\t}\r\n\r\n\tchangeInput = evt => {\r\n\t\tthis.setState({ searchQuery: evt.target.value });\r\n\t}\r\n\r\n\thandleSubmit = evt => {\r\n\t\tevt.preventDefault();\r\n\r\n\t\tthis.props.onSubmit(this.state.searchQuery);\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { searchQuery } = this.state;\r\n\r\n\t\treturn (\r\n\t\t\t<header className={s.Searchbar}>\r\n\t\t\t\t<form className={s.SearchForm} onSubmit={this.handleSubmit}>\r\n\t\t\t\t\t<button type=\"submit\" className={s.button}>\r\n\t\t\t\t\t\t<span className={s.label}>Search</span>\r\n\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tclassName={s.input}\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\tplaceholder=\"Search images and photos\"\r\n\t\t\t\t\t\tvalue={searchQuery}\r\n\t\t\t\t\t\tonChange={this.changeInput}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</form>\r\n\t\t\t</header>\r\n\t\t)\r\n\t}\r\n\r\n}\r\n\r\nexport default Searchbar;","import React from 'react';\r\nimport s from './ImageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({ image }) => {\r\n\treturn (\r\n\t\t<li className={s.ImageGalleryItem} >\r\n\t\t\t<img src={image.webformatURL} alt={image.tags} data-imageurl={image.largeImageURL} className={s.image} />\r\n\t\t</li>\r\n\t)\r\n}\r\n\r\nexport default ImageGalleryItem;\r\n","import React from 'react';\r\nimport ImageGalleryItem from '../ImageGalleryItem';\r\nimport s from './ImageGallery.module.css';\r\n\r\nconst ImageGallery = ({ images, toggleModal }) => {\r\n\r\n\tconst checkEvent = evt => {\r\n\t\tif (evt.target !== evt.currentTarget) {\r\n\t\t\ttoggleModal({\r\n\t\t\t\tstatus: true,\r\n\t\t\t\tsrc: evt.target.dataset.imageurl,\r\n\t\t\t\talt: evt.target.alt\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<ul className={s.ImageGallery} onClick={checkEvent}>\r\n\t\t\t{images.map(image => <ImageGalleryItem image={image} key={image.id} />)}\r\n\t\t</ul>\r\n\t)\r\n}\r\n\r\nexport default ImageGallery;\r\n","import React from \"react\";\r\nimport s from \"./Notify.module.css\";\r\n\r\nconst Notify = ({ message }) => {\r\n\treturn (\r\n\t\t<p className={s.Notify}>\r\n\t\t\t{message}\r\n\t\t</p>\r\n\t)\r\n}\r\n\r\nexport default Notify;","import React, { Component } from 'react';\r\nimport s from './Modal.module.css';\r\n\r\nclass Modal extends Component {\r\n\r\n\tcomponentDidMount() {\r\n\t\twindow.addEventListener(\"keydown\", this.checkEvent);\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\twindow.removeEventListener(\"keydown\", this.checkEvent);\r\n\t}\r\n\r\n\tcheckEvent = evt => {\r\n\t\tif (evt.key === \"Escape\" || evt.target === evt.currentTarget) {\r\n\t\t\tthis.props.toggleModal({ status: false });\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { src, alt } = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<div className={s.Overlay} onClick={this.checkEvent}>\r\n\t\t\t\t<div className={s.Modal}>\r\n\t\t\t\t\t<img className={s.img} src={src} alt={alt} />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Modal;","import React from 'react';\r\nimport s from './Button.module.css';\r\n\r\nconst Button = ({ onClick }) => {\r\n\treturn (\r\n\t\t<div className={s.buttonBox} >\r\n\t\t\t<button type=\"button\" className={s.Button} onClick={onClick}>Load more</button>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Button;\r\n","import React, { Component } from 'react';\nimport Loader from \"react-loader-spinner\";\nimport fetchImage from \"./Services/apiService\";\nimport Searchbar from \"./Components/Searchbar\";\nimport ImageGallery from \"./Components/ImageGallery\";\nimport Notify from \"./Components/Notify\";\nimport Modal from \"./Components/Modal\";\nimport Button from \"./Components/Button\";\nimport s from './App.module.css';\n\nclass App extends Component {\n  state = {\n    images: [],\n    totalHits: 0,\n    searchQuery: \"\",\n    page: 1,\n    isLoading: false,\n    error: null,\n    emptyNotify: false,\n    showPopup: false,\n    showButton: false,\n    targetImage: null\n  };\n\n  componentDidMount() {\n    this.searchImages();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.setState({ page: 1 });\n      this.searchImages();\n    }\n    if (prevState.page !== this.state.page) {\n      this.searchImages();\n    }\n  }\n\n  searchImages() {\n    const { searchQuery, page } = this.state;\n\n    this.setState({ isLoading: true });\n\n    fetchImage(searchQuery, page)\n      .then(data => {\n        if (page === 1) {\n          this.setState({\n            totalHits: data.totalHits,\n            images: data.hits\n          });\n        } else {\n          this.setState(prevState => ({\n            images: [...prevState.images, ...data.hits]\n          }));\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: 'smooth',\n          });\n        }\n        this.checkButtonAndNotify();\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  }\n\n  onSubmit = value => {\n    this.setState({ searchQuery: value })\n  }\n\n  onButtonMoreClick = () => {\n    this.setState(prevState => ({\n      page: prevState.page + 1\n    }));\n  }\n\n  checkButtonAndNotify = () => {\n    const { totalHits, images } = this.state;\n\n    if (totalHits > images.length) {\n      this.setState({ showButton: true });\n    } else {\n      this.setState({ showButton: false });\n    }\n\n    if (!totalHits) {\n      this.setState({ emptyNotify: true });\n    } else {\n      this.setState({ emptyNotify: false });\n    }\n  }\n\n  toggleModal = ({ status, src, alt }) => {\n    if (status) {\n      this.setState({\n        targetImage: { src, alt },\n        showPopup: true\n      });\n    } else {\n      this.setState({\n        targetImage: null,\n        showPopup: false\n      });\n    }\n  }\n\n  render() {\n    const { images, isLoading, error, emptyNotify, showPopup, targetImage, showButton } = this.state;\n\n    return (\n      <div className={s.App}>\n        <Searchbar onSubmit={this.onSubmit} />\n        {error && <Notify message={`Something wrong: ${error.message}`} />}\n        {isLoading && <Loader type=\"Circles\" color=\"#00BFFF\" height={80} width={80} />}\n        {images.length > 0 && <ImageGallery images={images} toggleModal={this.toggleModal} />}\n        {emptyNotify && <Notify message=\"Nothing was found. Try again.\" />}\n        {showPopup && <Modal src={targetImage.src} alt={targetImage.alt} toggleModal={this.toggleModal} />}\n        {showButton && <Button onClick={this.onButtonMoreClick} />}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3A6fG\",\"SearchForm\":\"Searchbar_SearchForm__1H_zD\",\"button\":\"Searchbar_button__3MIem\",\"label\":\"Searchbar_label__1QRi3\",\"input\":\"Searchbar_input__3qYd5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__uqrxZ\",\"Modal\":\"Modal_Modal__2G-se\"};"],"sourceRoot":""}