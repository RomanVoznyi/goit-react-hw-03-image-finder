{"version":3,"sources":["Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/Button/Button.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Notify/Notify.module.css","App.module.css","Services/apiService.js","Components/Searchbar/Searchbar.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/ImageGallery/ImageGallery.js","Components/Notify/Notify.js","Components/Modal/Modal.js","Components/Button/Button.js","App.js","index.js","Components/Searchbar/Searchbar.module.css","Components/Modal/Modal.module.css"],"names":["module","exports","fetchImage","searchQuery","page","a","axios","get","response","data","Searchbar","state","changeInput","evt","setState","target","value","handleSubmit","preventDefault","props","onSubmit","this","className","s","SearchForm","type","button","label","input","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","image","toggleModal","src","webformatURL","alt","tags","onClick","status","largeImageURL","ImageGallery","images","map","id","Notify","message","Modal","checkEvent","key","currentTarget","window","addEventListener","removeEventListener","Overlay","img","Button","buttonBox","App","totalHits","isLoading","error","notify","showPopup","showButton","targetImage","onButtonMoreClick","prevState","checkButtonAndNotify","length","searchImages","prevProps","then","hits","scrollTo","top","document","documentElement","scrollHeight","behavior","catch","finally","color","height","width","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.2b809879.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__YQjot\",\"image\":\"ImageGalleryItem_image__2CLQB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"buttonBox\":\"Button_buttonBox__-JN5p\",\"Button\":\"Button_Button__V-q7j\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__vxn6C\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Notify\":\"Notify_Notify__3BHH-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__1mPEy\"};","import axios from 'axios';\n\nconst KEY = '18895827-cf969cabaa6d7255b0d8616bb';\n\nconst fetchImage = async (searchQuery, page) => {\n  const response = await axios.get(\n    `https://pixabay.com/api/?q=${searchQuery}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n  );\n  return response.data;\n};\n\nexport default fetchImage;\n","import React, { Component } from 'react';\nimport s from './Searchbar.module.css';\n\nclass Searchbar extends Component {\n  state = {\n    searchQuery: '',\n  };\n\n  changeInput = evt => {\n    this.setState({ searchQuery: evt.target.value });\n  };\n\n  handleSubmit = evt => {\n    evt.preventDefault();\n\n    this.props.onSubmit(this.state.searchQuery);\n  };\n\n  render() {\n    const { searchQuery } = this.state;\n\n    return (\n      <header className={s.Searchbar}>\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={s.button}>\n            <span className={s.label}>Search</span>\n          </button>\n\n          <input\n            className={s.input}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={searchQuery}\n            onChange={this.changeInput}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import React from 'react';\nimport s from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({ image, toggleModal }) => {\n  const onClick = () => {\n    toggleModal({\n      status: true,\n      src: image.largeImageURL,\n      alt: image.tags,\n    });\n  };\n\n  return (\n    <li className={s.ImageGalleryItem}>\n      <img\n        className={s.image}\n        src={image.webformatURL}\n        alt={image.tags}\n        onClick={onClick}\n      />\n    </li>\n  );\n};\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport ImageGalleryItem from '../ImageGalleryItem';\nimport s from './ImageGallery.module.css';\n\nconst ImageGallery = ({ images, toggleModal }) => {\n  return (\n    <ul className={s.ImageGallery}>\n      {images.map(image => (\n        <ImageGalleryItem\n          image={image}\n          key={image.id}\n          toggleModal={toggleModal}\n        />\n      ))}\n    </ul>\n  );\n};\n\nexport default ImageGallery;\n","import React from 'react';\nimport s from './Notify.module.css';\n\nconst Notify = ({ message }) => {\n  return <p className={s.Notify}>{message}</p>;\n};\n\nexport default Notify;\n","import React, { Component } from 'react';\nimport s from './Modal.module.css';\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.checkEvent);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.checkEvent);\n  }\n\n  checkEvent = evt => {\n    if (evt.key === 'Escape' || evt.target === evt.currentTarget) {\n      this.props.toggleModal({ status: false });\n    }\n  };\n\n  render() {\n    const { src, alt } = this.props;\n\n    return (\n      <div className={s.Overlay} onClick={this.checkEvent}>\n        <div className={s.Modal}>\n          <img className={s.img} src={src} alt={alt} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Modal;\n","import React from 'react';\nimport s from './Button.module.css';\n\nconst Button = ({ onClick }) => {\n  return (\n    <div className={s.buttonBox}>\n      <button type=\"button\" className={s.Button} onClick={onClick}>\n        Load more\n      </button>\n    </div>\n  );\n};\n\nexport default Button;\n","import React, { Component } from 'react';\nimport Loader from 'react-loader-spinner';\nimport fetchImage from './Services/apiService';\nimport Searchbar from './Components/Searchbar';\nimport ImageGallery from './Components/ImageGallery';\nimport Notify from './Components/Notify';\nimport Modal from './Components/Modal';\nimport Button from './Components/Button';\nimport s from './App.module.css';\n\nclass App extends Component {\n  state = {\n    images: [],\n    totalHits: 0,\n    searchQuery: '',\n    page: 1,\n    isLoading: false,\n    error: null,\n    notify: false,\n    message: '',\n    showPopup: false,\n    showButton: false,\n    targetImage: null,\n  };\n\n  componentDidMount() {\n    this.searchImages();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { searchQuery, page } = this.state;\n\n    if (prevState.searchQuery !== searchQuery) {\n      this.searchImages(searchQuery, 1);\n      this.setState({ page: 1 });\n    }\n    if (prevState.page !== page) {\n      this.searchImages(searchQuery, page);\n    }\n  }\n\n  searchImages(searchQuery = \"\", page = 1) {\n    if (searchQuery !== \"\") {\n      this.setState({\n        isLoading: true,\n        notify: false,\n      });\n\n      fetchImage(searchQuery, page)\n        .then(data => {\n          if (page === 1) {\n            this.setState({\n              totalHits: data.totalHits,\n              images: data.hits,\n            });\n          } else {\n            this.setState(prevState => ({\n              images: [...prevState.images, ...data.hits],\n            }));\n            window.scrollTo({\n              top: document.documentElement.scrollHeight,\n              behavior: 'smooth',\n            });\n          }\n          this.checkButtonAndNotify();\n        })\n        .catch(error => this.setState({ error }))\n        .finally(() => this.setState({ isLoading: false }));\n    } else {\n      this.setState({\n        images: [],\n        showButton: false,\n        message: 'Please input search request',\n        notify: true,\n      });\n    }\n  }\n\n  onSubmit = value => {\n    this.setState({ searchQuery: value });\n  };\n\n  onButtonMoreClick = () => {\n    this.setState(prevState => ({\n      page: prevState.page + 1,\n    }));\n  };\n\n  checkButtonAndNotify = () => {\n    const { totalHits, images } = this.state;\n\n    if (totalHits > images.length) {\n      this.setState({ showButton: true });\n    } else {\n      this.setState({ showButton: false });\n    }\n\n    if (!totalHits) {\n      this.setState({\n        message: 'Nothing was found. Try again.',\n        notify: true,\n      });\n    } else {\n      this.setState({ notify: false });\n    }\n  };\n\n  toggleModal = ({ status, src, alt }) => {\n    if (status) {\n      this.setState({\n        targetImage: { src, alt },\n        showPopup: true,\n      });\n    } else {\n      this.setState({\n        targetImage: null,\n        showPopup: false,\n      });\n    }\n  };\n\n  render() {\n    const {\n      images,\n      isLoading,\n      error,\n      notify,\n      message,\n      showPopup,\n      targetImage,\n      showButton,\n    } = this.state;\n\n    return (\n      <div className={s.App}>\n        <Searchbar onSubmit={this.onSubmit} />\n        {error && <Notify message={`Something wrong: ${error.message}`} />}\n        {isLoading && (\n          <Loader type=\"Circles\" color=\"#00BFFF\" height={80} width={80} />\n        )}\n        {images.length > 0 && (\n          <ImageGallery images={images} toggleModal={this.toggleModal} />\n        )}\n        {notify && <Notify message={message} />}\n        {showPopup && (\n          <Modal\n            src={targetImage.src}\n            alt={targetImage.alt}\n            toggleModal={this.toggleModal}\n          />\n        )}\n        {showButton && <Button onClick={this.onButtonMoreClick} />}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3A6fG\",\"SearchForm\":\"Searchbar_SearchForm__1H_zD\",\"button\":\"Searchbar_button__3MIem\",\"label\":\"Searchbar_label__1QRi3\",\"input\":\"Searchbar_input__3qYd5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__uqrxZ\",\"Modal\":\"Modal_Modal__2G-se\"};"],"sourceRoot":""}